<!DOCTYPE html>
<html onkeydown='startwork(event)'>
<head>
<title>Ebced Değeri Hesaplama Aracı</title>
<meta name="viewport" content="width=device-width" />
<meta content='http://ebced.kuran114.org/' property='og:url'/>
<meta content='Ebced Değeri Hesaplayıcı' property='og:title'/>
<meta content='Eş zamanlı Ebced/Sayı Değeri Hesaplayıcısı' property='og:description'/>
<link href='pic/favicon.ico' rel='icon' type='image/x-icon'/>
<style>
body {
	background-color: azure;
}

#back {
    position: absolute;
    z-index: -1;
    opacity: 0.19;
    left: 50%;
    margin-left: -150.68px;
}

#book {
	padding-top: 38px;
}

textarea {
	background-color: #d4efff;
	border-radius: 2px;
	font-size: 14pt;
	direction: rtl;
	width: 50%;
	margin-left: 25%;
	background-image: url(pic/abjadback.png);
	background-repeat: no-repeat;
	background-size: contain;
	background-position: 50% 0%;
}

textarea:focus {
	background-image: url(pic/background.png);
	background-size: cover;
	background-color: #d4fff3;
}

#text {
	margin-left: 25%;
}

#baslik {
	font-size: large;
	text-align: center;
}

p {font-size: 13pt;}
button {font-size: 13pt;}

@media only screen and (max-width: 768px) {

th {font-size: 14pt;}
p {font-size: 14pt;}
button {font-size: 14pt;}
textarea {font-size: 14pt;}
	
}

@media only screen and (min-width: 425px) and (max-width: 768px) {

textarea {
	font-size: 14pt;
	width: 80%;
	margin-left: 10%;
}

#text {
	margin-left: 10%;
}
	
}

@media only screen and (max-width: 425px) {

textarea {
	font-size: 15pt;
	width: 90%;
	margin-left: 5%;
}

#text {
	margin-left: 5%;
}

}
	
@media only screen and (max-width: 375px) {
	
textarea {background-image: url(pic/abc.png)}

}

</style>
</head>

<body>
<p id="baslik">Ebced Değeri Hesaplama Aracı:</p>
<textarea placeholder="...Yazmaya başlayın" id="box" rows="6" cols="75"></textarea>
<br>
<div id="back"><img id="book" src="pic/book arabic.png"></img></div>
<div id="text">
	<p id="abjad"></p>
	<p id="letters"></p>
	<p id="words"></p>
	<button id="kopyala"> Sonuçları Kopyala </button>
	<p id="harfler"></p>
	<p id="elif_H"></p>
	<p id="be_H"></p>
	<p id="cim_H"></p>
	<p id="dal_H"></p>
	<p id="he_H"></p>
	<p id="vav_H"></p>
	<p id="ze_H"></p>
	<p id="ha_H"></p>
	<p id="tı_H"></p>
	<p id="ye_H"></p>
	<p id="kef_H"></p>
	<p id="lam_H"></p>
	<p id="mim_H"></p>
	<p id="nun_H"></p>
	<p id="sin_H"></p>
	<p id="ayn_H"></p>
	<p id="fe_H"></p>
	<p id="sad_H"></p>
	<p id="kaf_H"></p>
	<p id="rı_H"></p>
	<p id="şın_H"></p>
	<p id="te_H"></p>
	<p id="se_H"></p>
	<p id="hı_H"></p>
	<p id="zel_H"></p>
	<p id="dad_H"></p>
	<p id="zı_H"></p>
	<p id="gayn_H"></p>
</div>

<script type="text/javascript" src="https://code.jquery.com/jquery-1.9.1.min.js"></script>
<script type="text/javascript">

function getSum(total,num){return total + num};

function val(yazı,harf,değer){
	rgxp = new RegExp(değer,'gim');
	text = yazı.toLowerCase();
	if (text.indexOf(harf) > -1){
		sonuc = text.split(harf).join(değer).match(rgxp).map(Number).reduce(getSum)
	}else{
		sonuc = 0
	};
	return sonuc;
}

function letters (string) { return string.match(/[ء-يﻻﻹﻷﻵ]/igm).length }
function elif19 (string) {
	la = string.match(/[ﻻ]/igm).length;
	lla = string.match(/[ﻹ]/igm).length;
	laa = string.match(/[ﻷ]/igm).length;
	llaa = string.match(/[ﻵ]/igm).length;
	elif = string.match(/[ءاآٱأإ]/igm).length;
	return la + lla + laa + llaa + elif
}
function be19 (string) { return string.match(/[بپ]/igm).length }
function cim19 (string) { return string.match(/[جچ]/igm).length }
function dal19 (string) { return string.match(/[د]/igm).length }
function he19 (string) { return string.match(/[هة]/igm).length }
function vav19 (string) { return string.match(/[وؤ]/igm).length }
function ze19 (string) { return string.match(/[زژ]/igm).length }
function ha19 (string) { return string.match(/[ح]/igm).length }
function tı19 (string) { return string.match(/[ط]/igm).length }
function ye19 (string) { return string.match(/[یيئى]/igm).length }
function kef19 (string) { return string.match(/[کكگڭ]/igm).length }
function lam19 (string) { 
	la = string.match(/[ﻻ]/igm).length;
	lla = string.match(/[ﻹ]/igm).length;
	laa = string.match(/[ﻷ]/igm).length;
	llaa = string.match(/[ﻵ]/igm).length;
	lam = string.match(/[ل]/igm).length;
	return la + lla + laa + llaa + lam
}
function mim19 (string) { return string.match(/[م]/igm).length }
function nun19 (string) { return string.match(/[ن]/igm).length }
function sin19 (string) { return string.match(/[س]/igm).length }
function ayn19 (string) { return string.match(/[ع]/igm).length }
function fe19 (string) { return string.match(/[فڢڤ]/igm).length }
function sad19 (string) { return string.match(/[ص]/igm).length }
function kaf19 (string) { return string.match(/[قڨ]/igm).length }
function rı19 (string) { return string.match(/[ر]/igm).length }
function şın19 (string) { return string.match(/[ش]/igm).length }
function te19 (string) { return string.match(/[ت]/igm).length }
function se19 (string) { return string.match(/[ث]/igm).length }
function hı19 (string) { return string.match(/[خ]/igm).length }
function zel19 (string) { return string.match(/[ذ]/igm).length }
function dad19 (string) { return string.match(/[ض]/igm).length }
function zı19 (string) { return string.match(/[ظ]/igm).length }
function gayn19 (string) { return string.match(/[غ]/igm).length }

function words(string){
	y = string.split(/\s+/).filter(
		function(string){
			word = string.match(/[ء-يﻻﻹﻷﻵ]+/igm);
			return word && word[0].length > 0;
		}
	);
	return y.length;
}
function abjad (string) {
	ء = val(string,'ء','1');
	ا = val(string,'ا','1');
	آ = val(string,'آ','1');
	ٱ = val(string,'ٱ','1');
	أ = val(string,'أ','1');
	إ = val(string,'إ','1');
	ب = val(string,'ب','2');
	پ = val(string,'پ','2');
	ج = val(string,'ج','3');
	چ = val(string,'چ','3');
	د = val(string,'د','4');
	ه = val(string,'ه','5');
	ة = val(string,'ة','5');
	و = val(string,'و','6');
	ؤ = val(string,'ؤ','6');
	ز = val(string,'ز','7');
	ژ = val(string,'ژ','7');
	ح = val(string,'ح','8');
	ط = val(string,'ط','9');
	ی = val(string,'ی','10');
	ي = val(string,'ي','10');
	ئ = val(string,'ئ','10');
	ى = val(string,'ى','10');
	ک = val(string,'ک','20');
	ك = val(string,'ك','20');
	گ = val(string,'گ','20');
	ڭ = val(string,'ڭ','20');
	ل = val(string,'ل','30');
	م = val(string,'م','40');
	ن = val(string,'ن','50');
	س = val(string,'س','60');
	ع = val(string,'ع','70');
	ف = val(string,'ف','80');
	ڢ = val(string,'ڢ','80');
	ڤ = val(string,'ڤ','80');
	ص = val(string,'ص','90');
	ق = val(string,'ق','100');
	ڨ = val(string,'ڨ','100');
	ر = val(string,'ر','200');
	ش = val(string,'ش','300');
	ت = val(string,'ت','400');
	ث = val(string,'ث','500');
	خ = val(string,'خ','600');
	ذ = val(string,'ذ','700');
	ض = val(string,'ض','800');
	ظ = val(string,'ظ','900');
	غ = val(string,'غ','1000');
	ﻻ = val(string,'ﻻ','31');
	ﻹ = val(string,'ﻹ','31');
	ﻷ = val(string,'ﻷ','31');
	ﻵ = val(string,'ﻵ','31');
	return ء+ا+آ+ٱ+أ+إ+ب+پ+ج+چ+د+ه+ة+و+ؤ+ز+ژ+ح+ط+ی+ي+ئ+ى+ک+ك+گ+ڭ+ل+م+ن+س+ع+ف+ڢ+ڤ+ص+ق+ڨ+ر+ش+ت+ث+خ+ذ+ض+ظ+غ+ﻻ+ﻹ+ﻷ+ﻵ
}

function startwork(event){
	box = document.getElementById("box");
	if ( box === document.activeElement ){}else{
		box.focus();
	}
}

$('#box').on('input', function (event) { 
    this.value = this.value.replace(/[^ء-ي ﻻﻹﻷﻵ]/igm, '');
});

function copyToClipboard(text) {
	if (window.clipboardData && window.clipboardData.setData) {
		return clipboardData.setData("Text", text);
	}
	else if (document.queryCommandSupported && document.queryCommandSupported("copy")) {
		textarea = document.createElement("textarea");
  		textarea.textContent = text;
  		textarea.style.position = "fixed";
  		document.body.appendChild(textarea); textarea.select();
  		try {return document.execCommand("copy")}
  		catch (ex) {console.warn("Copy to clipboard failed.", ex); return false;}
		finally {document.body.removeChild(textarea)}
	}
}

$("#box").keyup( function(){
	inputValue = $(this).val();
if( abjad(inputValue) ) {
	if (abjad(inputValue) % 19 === 0) {
		ebced = abjad(inputValue) + " = 19 × " + abjad(inputValue)/19;
		$("#abjad").html("<span style=\"color: blue;\">" + "EBCED değeri: " + ebced + "</span>");
	}else{
		ebced = abjad(inputValue);
		$("#abjad").html("EBCED değeri: " + ebced);
	}
	if (letters(inputValue) % 19 === 0) {
		harf = letters(inputValue) + " = 19 × " + letters(inputValue)/19;
		$("#letters").html("<span style=\"color: blue;\">" + "HARF sayısı: " + harf + "</span>");
	}else{
		harf = letters(inputValue);
		$("#letters").html("HARF sayısı: " + harf);
	}
	if (words(inputValue) % 19 === 0) {
		kelime = words(inputValue) + " = 19 × " + words(inputValue)/19;
		$("#words").html("<span style=\"color: blue;\">" + "KELİME sayısı: " + kelime + "</span>");
	}else{
		kelime = words(inputValue);
		$("#words").html("KELİME sayısı: " + kelime);
	}
	mesaj = "EBCED değeri: " + ebced + "\n" + "HARF sayısı: " + harf + "\n" + "KELİME sayısı: " + kelime;
	
	var txt = "";
	var counts = {};
	var ch, index, len, count;
	input = inputValue.match(/[^ ]/igm)
	for (index = 0, len = input.length; index < len; ++index) {
	    ch = input.charAt(index);
	    count = counts[ch];
	    counts[ch] = count ? count + 1 : 1;
	}

	for (ch in counts) {
	    txt += ch + " sayısı: " + counts[ch] + "<br>";
	}
	document.getElementById("harfler").innerHTML = txt;
	
}else{
	$("#abjad").html("");
	$("#letters").html("");
	$("#words").html("");
	$("#harfler").html("");
	mesaj = "";
};
	document.querySelector("#kopyala").onclick = function() {
		var result = copyToClipboard(mesaj);
		console.log("copied?", result);
	};
});

/*
$("#box").keyup( function(){	inputValue = $(this).val();
if( abjad(inputValue) ) {
	if (dal19(inputValue) % 19 === 0) {dal = dal19(inputValue) + " = 19 × " + dal19(inputValue)/19;}else{dal = dal19(inputValue);}
	$("#dal_H").html("DAL sayısı: " + dal);
}else{
	$("#dal_H").html("");
};
});

$("#box").keyup( function(){	inputValue = $(this).val();
if( abjad(inputValue) ) {
	//if (elif19(inputValue) % 19 === 0) {elif = elif19(inputValue) + " = 19 × " + elif19(inputValue)/19;}else{elif = elif19(inputValue);}
	//if (be19(inputValue) % 19 === 0) {be = be19(inputValue) + " = 19 × " + be19(inputValue)/19;}else{be = be19(inputValue);}
	//if (cim19(inputValue) % 19 === 0) {cim = cim19(inputValue) + " = 19 × " + cim19(inputValue)/19;}else{cim = cim19(inputValue);}

	//if (he19(inputValue) % 19 === 0) {he = he19(inputValue) + " = 19 × " + he19(inputValue)/19;}else{he = he19(inputValue);}
	//if (vav19(inputValue) % 19 === 0) {vav = vav19(inputValue) + " = 19 × " + vav19(inputValue)/19;}else{vav = vav19(inputValue);}
	//if (ze19(inputValue) % 19 === 0) {ze = ze19(inputValue) + " = 19 × " + ze19(inputValue)/19;}else{ze = ze19(inputValue);}
	//if (ha19(inputValue) % 19 === 0) {ha = ha19(inputValue) + " = 19 × " + ha19(inputValue)/19;}else{ha = ha19(inputValue);}
	//if (tı19(inputValue) % 19 === 0) {tı = tı19(inputValue) + " = 19 × " + tı19(inputValue)/19;}else{tı = tı19(inputValue);}
	//if (ye19(inputValue) % 19 === 0) {ye = ye19(inputValue) + " = 19 × " + ye19(inputValue)/19;}else{ye = ye19(inputValue);}
	//if (kef19(inputValue) % 19 === 0) {kef = kef19(inputValue) + " = 19 × " + kef19(inputValue)/19;}else{kef = kef19(inputValue);}
	//if (lam19(inputValue) % 19 === 0) {lam = lam19(inputValue) + " = 19 × " + lam19(inputValue)/19;}else{lam = lam19(inputValue);}
	if (mim19(inputValue) % 19 == 0) {mim = mim19(inputValue) + " = 19 × " + mim19(inputValue)/19;}else{mim = mim19(inputValue);}
	//if (nun19(inputValue) % 19 === 0) {nun = nun19(inputValue) + " = 19 × " + nun19(inputValue)/19;}else{nun = nun19(inputValue);}
	//if (sin19(inputValue) % 19 === 0) {sin = sin19(inputValue) + " = 19 × " + sin19(inputValue)/19;}else{sin = sin19(inputValue);}
	//if (ayn19(inputValue) % 19 === 0) {ayn = ayn19(inputValue) + " = 19 × " + ayn19(inputValue)/19;}else{ayn = ayn19(inputValue);}
	//if (fe19(inputValue) % 19 === 0) {fe = fe19(inputValue) + " = 19 × " + fe19(inputValue)/19;}else{fe = fe19(inputValue);}
	//if (sad19(inputValue) % 19 === 0) {sad = sad19(inputValue) + " = 19 × " + sad19(inputValue)/19;}else{sad = sad19(inputValue);}
	//if (kaf19(inputValue) % 19 === 0) {kaf = kaf19(inputValue) + " = 19 × " + kaf19(inputValue)/19;}else{kaf = kaf19(inputValue);}
	//if (rı19(inputValue) % 19 === 0) {rı = rı19(inputValue) + " = 19 × " + rı19(inputValue)/19;}else{rı = rı19(inputValue);}
	//if (şın19(inputValue) % 19 === 0) {şın = şın19(inputValue) + " = 19 × " + şın19(inputValue)/19;}else{şın = şın19(inputValue);}
	//if (te19(inputValue) % 19 === 0) {te = te19(inputValue) + " = 19 × " + te19(inputValue)/19;}else{te = te19(inputValue);}
	//if (se19(inputValue) % 19 === 0) {se = se19(inputValue) + " = 19 × " + se19(inputValue)/19;}else{se = se19(inputValue);}
	//if (hı19(inputValue) % 19 === 0) {hı = hı19(inputValue) + " = 19 × " + hı19(inputValue)/19;}else{hı = hı19(inputValue);}
	//if (zel19(inputValue) % 19 === 0) {zel = zel19(inputValue) + " = 19 × " + zel19(inputValue)/19;}else{zel = zel19(inputValue);}
	//if (dad19(inputValue) % 19 === 0) {dad = dad19(inputValue) + " = 19 × " + dad19(inputValue)/19;}else{dad = dad19(inputValue);}
	//if (zı19(inputValue) % 19 === 0) {zı = zı19(inputValue) + " = 19 × " + zı19(inputValue)/19;}else{zı = zı19(inputValue);}
	//if (gayn19(inputValue) % 19 === 0) {gayn = gayn19(inputValue) + " = 19 × " + gayn19(inputValue)/19;}else{gayn = gayn19(inputValue);}	
	
	//$("#elif_H").html("ELİF sayısı: " + elif);
	//$("#be_H").html("BE sayısı: " + be);
	//$("#cim_H").html("CİM sayısı: " + cim);

	//$("#he_H").html("HE sayısı: " + he);
	//$("#vav_H").html("VAV sayısı: " + vav);
	//$("#ze_H").html("ZE sayısı: " + ze);
	//$("#ha_H").html("HA sayısı: " + ha);
	//$("#tı_H").html("TI sayısı: " + tı);
	//$("#ye_H").html("YE sayısı: " + ye);
	//$("#kef_H").html("KEF sayısı: " + kef);
	//$("#lam_H").html("LAM sayısı: " + lam);
	$("#mim_H").html("MİM sayısı: " + mim)
	//$("#nun_H").html("NUN sayısı: " + nun);
	//$("#sin_H").html("SİN sayısı: " + sin);
	//$("#ayn_H").html("AYN sayısı: " + ayn);
	//$("#fe_H").html("FE sayısı: " + fe);
	//$("#sad_H").html("SAD sayısı: " + sad);
	//$("#kaf_H").html("KAF sayısı: " + kaf);
	//$("#rı_H").html("RI sayısı: " + rı);
	//$("#şın_H").html("ŞIN sayısı: " + şın);
	//$("#te_H").html("TE sayısı: " + te);
	//$("#se_H").html("SE sayısı: " + se);
	//$("#hı_H").html("HI sayısı: " + hı);
	//$("#zel_H").html("ZEL sayısı: " + zel);
	//$("#dad_H").html("DAD sayısı: " + dad);
	//$("#zı_H").html("ZI sayısı: " + zı);
	//$("#gayn_H").html("GAYN sayısı: " + gayn);
}else{
	//$("#elif_H").html("");
	//$("#be_H").html("");
	//$("#cim_H").html("");

	//$("#he_H").html("");
	//$("#vav_H").html("");
	//$("#ze_H").html("");
	//$("#ha_H").html("");
	//$("#tı_H").html("");
	//$("#ye_H").html("");
	//$("#kef_H").html("");
	//$("#lam_H").html("");
	$("#mim_H").html("");
	//$("#nun_H").html("");
	//$("#sin_H").html("");
	//$("#ayn_H").html("");
	//$("#fe_H").html("");
	//$("#sad_H").html("");
	//$("#kaf_H").html("");
	//$("#rı_H").html("");
	//$("#şın_H").html("");
	//$("#te_H").html("");
	//$("#se_H").html("");
	//$("#hı_H").html("");
	//$("#zel_H").html("");
	//$("#dad_H").html("");
	//$("#zı_H").html("");
	//$("#gayn_H").html("");
};

}); */
</script>
</body>
</html>
